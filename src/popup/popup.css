@import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');

/* 기본 초기화 */
* { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Pretendard', sans-serif; }

:root {
  --bg-gray: #e0e0e2; 
  --color-high: #10023D;
}

body { 
  width: 350px; height: 500px; background-color: #faeeee; 
  display: flex; justify-content: center; align-items: center; 
}

/* 컨테이너 패딩 제거하여 절대 좌표 활성화 */
.container { 
  width: 350px; height: 500px; background: #ffffff; 
  position: relative; overflow: hidden;
}

.page-view {
  position: absolute; width: 100%; height: 100%;
  opacity: 0; visibility: hidden;
  transition: all 0.4s ease-in-out;
}
.page-view.active { opacity: 1; visibility: visible; }

/* [OFF 페이지] 가이드 정밀 좌표 반영 */
.center-layout { width: 100%; height: 100%; position: relative; }

/* 1. 로고 */
.logo-main { 
  position: absolute;
  left: 108px; top: 84px; 
  width: 150px; height: 150px;
}

/* 2. 다크 패턴 분석 제목: x 87, y 241 / w 177, h 38 */
.title { 
  position: absolute;
  left: 87px; 
  top: 241px;
  width: 177px; 
  height: 38px;
  font-size: 32px; 
  font-weight: 600; /* SemiBold */
  color: #383838;
  text-align: center;
  line-height: 38px;
  letter-spacing: -0.02em; /* 자간 -2% */
}

/* 3. 설명 문구 */
.description { 
  position: absolute;
  left: 73px; 
  top: 289px;
  width: 204px; 
  height: 42px;
  font-size: 18px; 
  font-weight:400; 
  color: #919191; 
  line-height: 1.2;
  text-align: center;
  letter-spacing: -0.02em; /* 자간 -2% */
}

/* 4. 보호가 비활성화됨: x 129, y 350 / w 93, h 13 */
.status-text { 
  position: absolute;
  left: 125px; 
  top: 350px;
  width: 100px; 
  height: 14px;
  font-size: 12px; 
  color: #919191; 
  text-align: center;
}

/* 5. 토글 큰 원(배경) */
.center-layout .toggle-btn { 
  position: absolute;
  left: 117px; 
  top: 371px;
  width: 116.6px; 
  height: 45.43px;
}

/* 6. 토글 안 흰색 원 (OFF 상태): 가이드 X: 126.09, Y: 375.54 반영 */
/* 계산: x(126.09 - 117) = 9.09px, y(375.54 - 371) = 4.54px */
.center-layout .slider:before { 
  position: absolute;
  left: 9.09px; /* 왼쪽 배치 */
  top: 4.54px; 
  width: 34.83px; 
  height: 34.83px; 
  content: "";
  background-color: white;
  border-radius: 50%;
  box-shadow: 0 4px 4px rgba(0, 0, 0, 0.25); /* 가이드의 바깥쪽 그림자 반영 */
  transition: 0.3s;
  z-index: 2;
}

/* 7. 토글 안 OFF 글씨 (OFF 상태): 가이드 기반 오른쪽 배치 */
.center-layout .label-text { 
  position: absolute;
  left: 65.29px; /* 오른쪽 배치 */
  top: 14.66px; 
  width: 30px; 
  height: 19px;
  font-size: 16px;
  font-weight: 350;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1;
  pointer-events: none;

  opacity: 1;
  transition: opacity 0.2s ease;
}

input:checked + .slider .label-text {
  opacity: 0;
}
/* 토글 클릭 시 ON 상태로 이동 설정 */
/* ON일 때의 원 위치(X: 192) 기준: 192 - 117 = 75px */
input:checked + .slider:before { 
  transform: translateX(65.91px) !important; /* 75px - 9.09px 이동 */
}

/* 토글 작동 시 색상 변경 */
input:checked + .slider { background-color: var(--color-high); }

/* [ON 페이지] 정렬 최적화 */
.top-header { width: 100%; display: flex; justify-content: space-between; padding: 20px 25px; align-items: center; }
.logo-mini { width: 45px; }
.title-mini { font-size: 28px; font-weight: 800; text-align: center; margin-top: 20px; color: #000; }

.chart-container { position: relative; width: 220px; height: 220px; margin: 30px auto; }
.risk-title { font-size: 24px; font-weight: 800; text-align: center; margin-top: 40px; color: #000; }

/* 도넛 그래프 영역 */
.chart-container { 
  position: relative; width: 200px; height: 200px; margin-bottom: 30px; 
}
.donut-svg { width: 100%; height: 100%; transform: rotate(-90deg); }
circle { fill: none; stroke-width: 32; }
.chart-bg { stroke: var(--bg-gray); } 

.meter {
  stroke-dasharray: 73.3 219.9; opacity: 0;
  transition: opacity 0.3s ease; stroke-linecap: butt;
}
.meter.active { opacity: 1; }
.meter.low { stroke: var(--color-low); stroke-dashoffset: 0; }
.meter.mid { stroke: var(--color-mid); stroke-dashoffset: -73.3; }
.meter.high { stroke: var(--color-high); stroke-dashoffset: -146.6; }

/* 도넛 내부 라벨 정렬 */
.labels-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; }
.guide-label {
  position: absolute; font-size: 13px; font-weight: 800; color: #FFFFFF;
  text-shadow: 0 0 4px rgba(0,0,0,0.3); white-space: nowrap; opacity: 0.4; 
  transform: translate(-50%, -50%); 
}
.guide-label.low { top: 32%; left: 78%; } 
.guide-label.high { top: 32%; left: 22%; } 
.guide-label.mid { top: 80%; left: 50%; } 
.guide-label.active { opacity: 1; font-weight: 900; transform: translate(-50%, -50%) scale(1.1); }

/* 하단 위험도 텍스트 */
.risk-title { 
  font-size: 24px; font-weight: 800; color: #000; 
  text-align: center; margin-top: auto; padding-bottom: 40px; 
}

/* 토글 기본 스타일 (통합) */
.toggle-btn { position: relative; width: 90px; height: 40px; display: inline-block; cursor: pointer; }
.toggle-btn input { opacity: 0; width: 0; height: 0; }
.slider, .slider-on {
  position: absolute; top: 0; left: 0; right: 0; bottom: 0;
  background-color: #DEDEDE; border-radius: 40px; transition: 0.3s;
  display: flex; align-items: center;
}
.slider { justify-content: flex-end; padding-right: 15px; }
.slider-on { background-color: var(--color-high); justify-content: flex-start; padding-left: 10px; }
.slider:before, .slider-on:before { 
  position: absolute; content: ""; height: 32px; width: 32px; border-radius: 50%; background-color: white; transition: 0.3s; 
}
.slider:before { left: 4px; }
.slider-on:before { right: 4px; }
input:checked + .slider { background-color: var(--color-high); }
input:checked + .slider:before { transform: translateX(50px); }
.label-text { color: white; font-size: 11px; font-weight: 900; z-index: 1; pointer-events: none; }